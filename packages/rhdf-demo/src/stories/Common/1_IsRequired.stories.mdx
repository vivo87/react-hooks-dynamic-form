import { Meta, Story, Preview, Props } from "@storybook/addon-docs/blocks";
import Form from "./Form";

<Meta title="Common/isRequired" component={Form} />

# isRequired

<br />

## As Boolean

`isRequired` can be a simple Boolean

<Preview>
  <Story name="Boolean">
    <Form
      fields={[
        {
          type: "text",
          name: "field-1",
          label: "Not Required",
        },
        {
          type: "text",
          name: "field-2",
          label: "Required",
          placeholder: "Input and see what happens",
          isRequired: true,
        },
      ]}
      defaultSettings={{
        validateOnChange: true,
      }}
    />
  </Story>
</Preview>

## As Predicate

`isRequired` can be a predicate with formData as parameter in case of conditional validation based on other field

<Preview>
  <Story name="Predicate">
    <Form
      fields={[
        {
          type: "text",
          name: "address",
          label: "Address",
        },
        {
          type: "text",
          name: "city",
          label: "City",
          placeholder: "Required if address filled",
          isRequired: formData => !!formData.address.value,
        },
      ]}
      defaultSettings={{
        validateOnChange: true,
      }}
    />
  </Story>
</Preview>

# Props

<Props of={Form} />
